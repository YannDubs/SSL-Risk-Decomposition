# @package _global_
predictor:
  is_sklearn: False

trainer:
  max_epochs: 300
  log_every_n_steps: 200
  flush_logs_every_n_steps: 200
  enable_checkpointing: True

  # ENGINEERING / SPEED #
  gpus: 1
  num_nodes: 1  # number gpu nodes
  precision: 16 # use 16 bit for speed # TODO use "b16" once it is not experiemntal (maybe lightning 1.6)

checkpoint:
  kwargs:
    dirpath: ${paths.checkpoint}
    monitor: train/${component}/loss
    mode: "min"
    verbose: true
    save_last: True
    save_top_k: 1
    save_weights_only: false

callbacks:
  is_log_wandb: True
  wandb_kwargs:
    project: risk_dec
    entity: ${wandb_entity}
    group: ${experiment}
    offline: false # Run offline (data can be streamed later to wandb servers).
    id: ${job_id}
    reinit: True # ensure that same wandb after preemption
